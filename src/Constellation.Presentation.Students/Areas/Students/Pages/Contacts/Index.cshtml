@page
@model Constellation.Presentation.Students.Areas.Students.Pages.Contacts.IndexModel

<h2>Contacts</h2>

@foreach (var group in Model.Contacts.OrderBy(contact => contact.Category).GroupBy(contact => contact.Category))
{
    <div class="row mt-3">
        <h4>@group.Key</h4>

        @foreach (var entry in group.OrderBy(contact => contact.Detail))
        {
            <div class="p-2 ms-1 me-1 mb-2 position-relative border border-2 rounded-3">
                <span class="row d-flex align-items-center">
                    <div class="col">
                        <div class="h5">@entry.DisplayName</div>
                        <span class="fst-italic">@entry.Detail</span>
                        <span class="d-block"><a href="mailto:@entry.EmailAddress" class="stretched-link">@entry.EmailAddress</a></span>
                        @if (!string.IsNullOrWhiteSpace(entry.PhoneNumber))
                        {
                            <span class="d-block">@entry.PhoneNumber</span>
                        }
                    </div>
                </span>
            </div>
        }
    </div>
}